<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{
				padding: 0;
				margin: 0;
				
			}
			#box{
				padding: 20px;
				margin: 100px auto;
				width:700px;
				height:auto;
				border: 1px solid #ccc;
			}
			textarea{
				font-size: 17px;
				margin-left: 70px;
			}
			button{
				width: 50px;
				font-size: 17px;
			}
			ul ,li{
				list-style: none;
			}
			ul li{
				width: 500px;
				padding: 15px;
				margin:auto;
				border-bottom: 1px dashed #000;
				word-break:break-all;
			}
			ul li a{
				float:right;
			}
		</style>
		<script type="text/javascript">
			window.onload = function(){
				var btn = document.getElementsByTagName("button")[0];
				var txt = document.getElementsByTagName("textarea")[0];
				var ul = document.createElement("ul");
				btn.parentNode.appendChild(ul);
				btn.onclick = function(){
					if(txt.value == ""){
						alert("输入不能为空");
						return false;
					}
					//创建一个li，并吧输入框的内容填充
					var newli = document.createElement("li"); 
					newli.innerHTML = txt.value+"<a href='javascript:;'>删除</a>";
					
					txt.value = "";//清空输入框
					var lis = ul.children;//获取所有li的个数
					if(lis.length == 0){	//如果li的个数为0，在ul后添加第一个li
						ul.appendChild(newli);
					}
					else{	//不为0的话，在第一个li的前面插入一个新的li
						ul.insertBefore(newli,lis[0]);
					}
					var as = document.getElementsByTagName("a");	//获取所有的a标签，即删除键
				
					for(var i = 0;i < as.length;i++){
						as[i].onclick = function(){
							ul.removeChild(this.parentNode);	//移除a的父元素，即移除li
						}
					}
				}
				
			}
		</script>
	</head>
	<body>
		<div id="box">
			<h3>微博发布:</h3>
			<textarea cols="60" rows="10"></textarea><button>发布</button>
		</div>
	</body>
</html>
